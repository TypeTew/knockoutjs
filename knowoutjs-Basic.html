<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Knockoutjs</title>
</head>

<body>


    <div data-bind="text: ko.toJSON(a)"></div>

    <script src="/script/jquery-3.4.1.min.js"></script>
    <script src="/script/knockout-3.4.2.js"></script>
    <script src="/script/knockout.mapping-latest.js"></script>

    <script>
        $(document).ready(function () {
            GetDataJsonFile();
        });

        function GetDataJsonFileV2() {
            $.getJSON("people.json", function (data) {
                // console.log(data.name); 
                // console.log(data.age); 
                console.log("Success load Data");

            }).fail(function () {
                console.log("An error has occurred.");
            });
        }

        function GetDataJsonFile() {
            var jqxhr = $.getJSON("people.json", function (data) {
                    //myjson = JSON.stringify(data); //แปลง Json Obj เป็น String
                    objJson = data; //แปลง Json Obj เป็น String
                    console.log("success");

                })
                .done(function () {
                    console.log("second success");
                })
                .fail(function () {
                    console.log("error");
                })
                .always(function () {
                    console.log("complete");
                });

            // Perform other work here ...

            // Set another completion function for the request above
            jqxhr.always(function () {
                console.log("second complete");
            });
        }
        var VMa = {

        };

        var objJson = {};
        var myjson = {}; // ตัวทำเป็น string

        var person = {
            name: "Brad",
            age: 35,
            address: {

            },
            children: ["A", "B"]

        }
        //person = JSON.stringify(person); //แปลงจาก obj เป็น String
        // person = JSON.parse(person);
        // console.log(person.children[1]);

        var a = {
            "ID": "100",
            "Name": "A100",
            "Balance": "10000"
        }; //แบบไม่เป็น List ดาต้าธรรมดา

        // var VM = ko.toJS(data);
        // var object = JSON.parse(ko.toJSON(data));
        var g = ko.mapping.fromJS(a, {}, VMa);
        ko.applyBindings(g);

        console.log(g);
        // ko.applyBindings(g) //การ Binding
        // var vm = ko.mapping.fromJSON(data);
    </script>


</body>

</html>